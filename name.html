<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>名字评分 - 明天就不免费了</title>
    <!-- 引入Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- 配置Tailwind主题 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF6B6B', // 主色调：橙红色
                        secondary: '#4ECDC4', // 辅助色：青色
                        accent: '#FFD166', // 强调色：黄色
                        dark: '#292F36', // 深色
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                },
            }
        }
    </script>
    
    <style>
        /* 全局样式 */
        body {
            background-color: #F7FFF7;
            background-image: 
                radial-gradient(rgba(255, 107, 107, 0.05) 1px, transparent 1px),
                radial-gradient(rgba(78, 205, 196, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            background-position: 0 0, 25px 25px;
        }
        
        /* 动画效果 */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0px); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }
        
        .promo-shake {
            animation: shake 2s ease-in-out infinite;
        }
        
        .glow-effect {
            animation: pulse 1.5s ease-in-out infinite;
            text-shadow: 0 0 10px rgba(255, 107, 107, 0.7), 0 0 20px rgba(255, 107, 107, 0.5);
        }
        
        .gold-text {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .silver-text {
            background: linear-gradient(45deg, #C0C0C0, #A9A9A9);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .bronze-text {
            background: linear-gradient(45deg, #CD7F32, #A0522D);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* 表格滚动动画 */
        @keyframes scrollTable {
            0% { transform: translateY(0); }
            100% { transform: translateY(-5%); }
        }
        
        .table-container {
            overflow-y: auto;
            position: relative;
            max-height: 400px; /* 设置固定高度以确保滚动 */
        }
        
        /* 移除CSS动画以避免与JavaScript滚动冲突 */
        
        /* 倒计时动画 */
        @keyframes countdown {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        .countdown-animation {
            animation: countdown 1s linear infinite;
        }
    </style>
</head>
<body class="min-h-screen font-sans text-dark">
    <!-- 顶部通知栏 -->
    <div class="bg-primary text-white py-2 px-4 text-center">
        <span class="font-bold promo-shake">明天就不免费了！</span> 抓紧时间查询您的名字评分！
    </div>
    
    <!-- 主要内容 -->
    <main class="container mx-auto px-4 pt-8 pb-20">
        <!-- 标题区域 -->
        <section class="text-center mb-8">
            <h1 class="text-[clamp(2rem,6vw,4rem)] font-bold mb-4">
                <span class="text-primary glow-effect">明天就不免费了</span>
            </h1>
            <h2 class="text-[clamp(1.5rem,4vw,3rem)] font-bold mb-6">姓名评分</h2>
        </section>
        
        <!-- 搜索区域 -->
        <section class="max-w-md mx-auto mb-12">
            <div class="flex space-x-3">
                <input 
                    type="text" 
                    id="name" 
                    placeholder="请输入姓名" 
                    class="flex-1 px-5 py-4 rounded-lg border-2 border-primary/30 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all text-lg"
                >
                <button 
                    id="analyze-btn" 
                    class="bg-gradient-to-r from-primary to-secondary text-white px-8 py-4 rounded-lg font-bold shadow-lg transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl"
                >
                    查询
                </button>
            </div>
        </section>
        
        <!-- 评分列表区域 -->
        <section class="max-w-2xl mx-auto">
            <div class="bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200">
                <!-- 表头 -->
                <div class="grid grid-cols-3 bg-gradient-to-r from-primary/10 to-secondary/10 py-3 px-4 text-center font-bold">
                    <div>姓名</div>
                    <div>分数</div>
                    <div>优秀程度</div>
                </div>
                
                <!-- 加载状态 -->
                <div id="loading-row" class="grid grid-cols-3 py-3 px-4 text-center items-center hidden">
                    <div class="text-gray-500">查询中...</div>
                    <div class="text-gray-500">查询中...</div>
                    <div class="text-primary font-bold countdown-animation">剩余<span id="countdown">3</span>秒</div>
                </div>
                
                <!-- 分数表格 -->
                <div class="table-container">
                    <div class="table-scroll" id="score-table">
                        <!-- 表格内容将由JavaScript动态生成 -->
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 底部促销信息 -->
        <section class="text-center mt-12">
            <p class="text-primary font-bold text-lg mb-4">🔥 限时免费，机不可失 🔥</p>
            <div class="flex justify-center space-x-6 mb-6">
                <div class="flex flex-col items-center">
                    <div class="w-16 h-16 rounded-full bg-accent/20 flex items-center justify-center mb-2">
                        <i class="fa fa-bolt text-2xl text-accent"></i>
                    </div>
                    <span class="text-sm">精准分析</span>
                </div>
                <div class="flex flex-col items-center">
                    <div class="w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center mb-2">
                        <i class="fa fa-star text-2xl text-primary"></i>
                    </div>
                    <span class="text-sm">专业评分</span>
                </div>
                <div class="flex flex-col items-center">
                    <div class="w-16 h-16 rounded-full bg-secondary/20 flex items-center justify-center mb-2">
                        <i class="fa fa-shield text-2xl text-secondary"></i>
                    </div>
                    <span class="text-sm">结果保密</span>
                </div>
            </div>
        </section>
    </main>
    
    <!-- 页脚 -->
    <footer class="bg-dark text-white/80 py-6">
        <div class="container mx-auto px-4 text-center">
            <p class="text-sm">© 2023 姓名评分 | 仅供娱乐，非专业命理建议</p>
            <p class="text-xs mt-2 text-white/40">明天起将恢复收费，抓紧最后机会！</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // DOM元素
        const nameInput = document.getElementById('name');
        const analyzeBtn = document.getElementById('analyze-btn');
        const scoreTable = document.getElementById('score-table');
        const loadingRow = document.getElementById('loading-row');
        const countdownElement = document.getElementById('countdown');
        
        // 预先生成更多示例数据，包含各种不同的名字
        const sampleNames = [
            '常淑风', '陈仙儿', '李将红', '吴来福', '何涛',
            '李书尧', '韦东成', '杜伯扬', '宁张柯', '陈浩',
            '吴斌', '蒋海芳', '王佳宁', '陈思远', '林小雨',
            '张思雨', '刘梦琪', '赵天宇', '黄雅婷', '周俊杰',
            '徐可欣', '孙浩然', '马嘉祺', '朱雨晨', '胡艺潇',
            '郭晓峰', '何雨桐', '高子轩', '林雨欣', '郑子豪',
            '谢依琳', '冯子骞', '韩雨桐', '杨雨萱', '董子昂',
            '萧雅琳', '程子墨', '曹雨晨', '袁子轩', '许艺馨',
            '邓紫棋', '丁浩然', '魏子骞', '沈雨桐', '曾艺馨',
            '彭子轩', '吕雨晨', '苏雅琳', '卢子骞', '任雨桐'
        ];
        
        // 缓存已计算过的名字分数
        const nameScoreCache = {};
        
        // 生成评分（0-100），确保相同名字得到相同分数
        function generateScore(name) {
            // 检查缓存，如果已存在则直接返回
            if (nameScoreCache[name]) {
                return nameScoreCache[name];
            }
            
            // 使用名字的字符编码总和作为随机种子
            let seed = 0;
            for (let i = 0; i < name.length; i++) {
                seed += name.charCodeAt(i);
            }
            
            // 使用简单的伪随机算法生成评分
            const random = (seed * 9301 + 49297) % 233280 / 233280;
            const score = Math.floor(random * 40) + 60; // 确保评分在60-100之间，更符合用户期望
            
            // 缓存结果
            nameScoreCache[name] = score;
            
            return score;
        }
        
        // 获取优秀程度描述
        function getExcellenceLevel(score) {
            if (score >= 90) return { text: '特别优秀', class: 'font-bold gold-text' };
            if (score >= 80) return { text: '优秀', class: 'font-bold silver-text' };
            if (score >= 70) return { text: '良好', class: 'font-bold bronze-text' };
            return { text: '普通', class: 'text-gray-600' };
        }
        
        // 生成表格行
        function createTableRow(name, score, excellence) {
            const row = document.createElement('div');
            row.className = 'grid grid-cols-3 py-3 px-4 text-center border-t border-gray-100 hover:bg-gray-50 transition-colors';
            row.innerHTML = `
                <div>${name}</div>
                <div class="font-bold">${score}分</div>
                <div class="${excellence.class}">${excellence.text}</div>
            `;
            return row;
        }
        
        // 初始化表格
        function initTable() {
            scoreTable.innerHTML = '';
            
            // 生成初始的随机名字评分
            let initialData = [];
            
            // 从示例名字列表中随机选择10个不重复的名字
            // 先复制数组以避免修改原数组
            const shuffledNames = [...sampleNames];
            
            // Fisher-Yates 洗牌算法确保随机性
            for (let i = shuffledNames.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffledNames[i], shuffledNames[j]] = [shuffledNames[j], shuffledNames[i]];
            }
            
            // 选择前20个不重复的名字，确保表格内容足够多以触发滚动效果
            const selectedNames = shuffledNames.slice(0, 20);
            
            // 为每个选中的名字生成一个评分，确保名字唯一性
            selectedNames.forEach(name => {
                const score = generateScore(name);
                initialData.push({ name, score });
            });
            
            // 首先按分数排序，分数高的在前
            initialData.sort((a, b) => b.score - a.score);
            
            // 然后按照评价级别进行分组
            const levels = { '特别优秀': [], '优秀': [], '良好': [], '普通': [] };
            initialData.forEach(data => {
                const excellence = getExcellenceLevel(data.score);
                levels[excellence.text].push(data);
            });
            
            // 穿插不同级别的名字
            const shuffledData = [];
            const maxLevelCount = Math.max(...Object.values(levels).map(level => level.length));
            
            for (let i = 0; i < maxLevelCount; i++) {
                // 按顺序添加每个级别的第i个元素（如果存在）
                if (levels['特别优秀'][i]) shuffledData.push(levels['特别优秀'][i]);
                if (levels['良好'][i]) shuffledData.push(levels['良好'][i]);
                if (levels['优秀'][i]) shuffledData.push(levels['优秀'][i]);
                if (levels['普通'][i]) shuffledData.push(levels['普通'][i]);
            }
            
            // 使用穿插后的数据数组替换初始排序的数据数组
            initialData = shuffledData;
            
            // 添加到表格
            initialData.forEach(data => {
                const excellence = getExcellenceLevel(data.score);
                scoreTable.appendChild(createTableRow(data.name, data.score, excellence));
            });
        }
        
        // 执行查询动画和逻辑
        function analyzeName() {
            const name = nameInput.value.trim();
            
            if (!name) {
                alert('请输入姓名');
                return;
            }
            
            // 显示加载状态
            loadingRow.classList.remove('hidden');
            
            // 倒计时动画
            let countdown = 3;
            countdownElement.textContent = countdown;
            
            const timer = setInterval(() => {
                countdown--;
                countdownElement.textContent = countdown;
                
                if (countdown <= 0) {
                    clearInterval(timer);
                    loadingRow.classList.add('hidden');
                    
                    // 生成评分
                    const score = generateScore(name);
                    const excellence = getExcellenceLevel(score);
                    
                    // 创建新的表格行
                    const newRow = createTableRow(name, score, excellence);
                    
                    // 添加进入动画
                    newRow.style.opacity = '0';
                    newRow.style.transform = 'translateY(10px)';
                    scoreTable.insertBefore(newRow, scoreTable.firstChild);
                    
                    // 触发重排后应用动画
                    setTimeout(() => {
                        newRow.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                        newRow.style.opacity = '1';
                        newRow.style.transform = 'translateY(0)';
                    }, 10);
                    
                    // 滚动到顶部
                    scoreTable.scrollTop = 0;
                    
                    // 清空输入框
                    nameInput.value = '';
                }
            }, 1000);
        }
        
        // 事件监听
        analyzeBtn.addEventListener('click', analyzeName);
        nameInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                analyzeName();
            }
        });
        
        // 初始化页面
        initTable();
        
        // 自动滚动效果
        let scrollDirection = 1;
        setInterval(() => {
            const tableHeight = scoreTable.scrollHeight;
            const containerHeight = scoreTable.parentElement.clientHeight;
            
            if (tableHeight > containerHeight) {
                const currentScroll = scoreTable.scrollTop;
                
                // 改变滚动方向当到达边界
                if (currentScroll >= tableHeight - containerHeight || currentScroll <= 0) {
                    scrollDirection *= -1;
                }
                
                // 增加滚动速度以确保明显的滚动效果
                scoreTable.scrollTop += scrollDirection * 2;
            }
        }, 30);
    </script>
</body>
</html>
